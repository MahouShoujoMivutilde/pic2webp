### Скрипт для конвертирования изображений в [webp](https://developers.google.com/speed/webp/)
---
Актуально для телефонов и долгосрочного хранения уже отредактированных фото.

В среднем, для аниме-подобной рисовки позволяет добиться -85% от изначального размера при сохранении SSIM ~0.99+, для фотографий - от -30% до -50%, что позволяет существенно экономить место.

Как минус - у фото exif сохраняется, но не читаем для других приложений, кроме этого скрипта.

Встроенные ICC профили тоже сохраняются.

---
#### Требования
* `python 3.4+ `
	* `pillow` - для конвертирования
	* `psutil` - для снижения приоритета дочерним процессам

Готовый **[exe](https://github.com/MahouShoujoMivutilde/pic2webp/releases/latest)**.

#### Использование
```
usage: pic2webp.py [-h] [--input INPUT] [--to_decode] [-q Q] [-exif] [-L]
                   [-f F] [--supported] [--mime]

Скрипт для конвертирования изображений в webp

optional arguments:
  -h, --help            show this help message and exit
  --input INPUT, -i INPUT
                        Путь к изображению, папке с изображениями или
                        .utf8.txt-списку папок (в котором каждый новый путь с
                        новой строки)
  --to_decode, -d       Конвертировать из webp в png/jpeg в зависимости от
                        режима изображения (с прозрачностью/без)
  -q Q                  Качество webp/jpeg [0; 100], для webp больше - лучше
                        сжатие (при сжатии без потерь), лучше качество (если с
                        потерями); то же самое значение используется и при
                        обратном конвертировании - в jpeg
  -exif                 Вывод exif webp-изображения по заданному пути
  -L                    Сжатие без потерь
  -f F                  Кастомный список кодируемых форматов (остальные
                        игнорятся) для конвертации в webp, через запятую без
                        пробелов - см. доступные через --supported, дефолтно
                        'jpeg,png'
  --supported           Вывести список всех поддерживаемых форматов данной
                        версии Pillow
  --mime                Определение типа файла не по содержимому файла, а по
                        расширению - быстрее, если файлов много (1k+), но не
                        всегда точно
```